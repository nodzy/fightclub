
 
 


<%= form_for(@fight,remote: true) do |f| %>

  <% if @fight.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@fight.errors.count, "error") %> prohibited this fight from being saved:</h2>

      <ul>
      <% @fight.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
 <% if @users.count >= 2 %>

 <div class="fields">
  
     <%= f.select :user1, options_for_select(@users.collect { | user | [user.first_name + " #{user.last_name}", user.id] }, @fight.user1.id),  {:include_blank => "Select fighter"}, {} %>
	 
	  <%= f.select :user2, options_for_select(@users.collect { | user | [user.first_name + " #{user.last_name}", user.id] }, @fight.user2.id),   {:include_blank => "Select fighter"}, {} %>
 



<script>
$('select').change(function() {

    $(this)
        .siblings('select')
        .children('option[value=' + this.value + ']')
        .attr('disabled', true)
        .siblings().removeAttr('disabled');

});
</script>
 
  

  
  
</div>

  <div class="actions">

  <%= f.submit 'FIGHT!', :class => "btn btn-default btn-circle" %>

</div>

   <% end %> 
 <% end %>  
 




